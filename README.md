# MobiStore - Frontend

Маркетплейс для продажи мобильных телефонов и гаджетов. Веб-приложение для размещения и поиска объявлений о продаже техники.

**Домен:** https://mobistore.uz

---

## Технологический стек

### Основные технологии
- **Nuxt 4** — фреймворк на базе Vue 3 с SSR
- **Vue 3** — реактивный UI-фреймворк (Composition API)
- **TypeScript** — статическая типизация
- **Pinia** — state management
- **Vue Router** — маршрутизация

### UI и стилизация
- **Element Plus** — библиотека UI-компонентов
- **Element Plus Icons** — иконки
- **SCSS** — препроцессор стилей (БЭМ методология)
- **Normalize.css** — сброс стилей
- **Inter** — шрифт (Google Fonts)

### Дополнительные библиотеки
- **@nuxtjs/i18n** — мультиязычность (русский, узбекский)
- **@nuxt/image** — оптимизация изображений
- **@nuxt/fonts** — оптимизация шрифтов
- **vue-quill** — WYSIWYG редактор
- **dayjs** — работа с датами

### Инструменты разработки
- **ESLint** — линтер
- **vue-tsc** — проверка типов

---

## Структура проекта

```
sm-front/
├── app/
│   ├── assets/           # Статические ресурсы (стили)
│   ├── components/       # Vue компоненты (81 шт.)
│   ├── composables/      # Composable функции (13 шт.)
│   ├── layouts/          # Макеты страниц
│   ├── middleware/       # Middleware
│   ├── pages/            # Страницы приложения
│   ├── plugins/          # Плагины Nuxt
│   ├── store/            # Pinia stores
│   ├── types/            # TypeScript типы
│   └── utils/            # Утилиты
├── i18n/                 # Файлы локализации
├── public/               # Публичные файлы
└── deploy/               # Конфигурация деплоя
```

---

## Страницы приложения

### Публичные страницы
| Путь | Описание |
|------|----------|
| `/` | Главная страница с баннерами, фильтрами, популярными брендами и последними объявлениями |
| `/search` | Страница поиска и результатов с расширенными фильтрами |
| `/[alias]` | Детальная страница объявления |
| `/user/[user_id]` | Профиль продавца с его объявлениями |

### Аутентификация
| Путь | Описание |
|------|----------|
| `/login` | Авторизация |
| `/signup` | Регистрация |
| `/verify-email` | Подтверждение email |
| `/auth/callback` | OAuth callback |
| `/auth/forgot-password` | Восстановление пароля |
| `/auth/reset-password` | Сброс пароля |

### Личный кабинет (`/account`)
| Путь | Описание |
|------|----------|
| `/account` | Настройки профиля пользователя |
| `/account/listings` | Мои объявления |
| `/account/listings/edit/[id]` | Редактирование объявления |
| `/account/favorites` | Избранные объявления |
| `/account/conversations` | Чаты и переписки |

### Создание объявления
| Путь | Описание |
|------|----------|
| `/create` | Создание нового объявления |

### Информационные страницы (`/info`)
| Путь | Описание |
|------|----------|
| `/info/contacts` | Контакты |
| `/info/privacy` | Политика конфиденциальности |
| `/info/terms` | Условия использования |

### Админ-панель (`/admin`)
| Путь | Описание |
|------|----------|
| `/admin` | Дашборд администратора |
| `/admin/listings` | Управление объявлениями (модерация) |
| `/admin/users` | Управление пользователями |
| `/admin/staff` | Управление персоналом |
| `/admin/brands` | Справочник брендов |
| `/admin/models` | Справочник моделей телефонов |
| `/admin/applications` | Заявки на добавление моделей |
| `/admin/parser` | Парсер данных |
| `/admin/cache` | Управление кэшем |
| `/admin/logs` | Логи системы |

---

## Функционал

### Для пользователей
- **Регистрация и авторизация** (email, OAuth)
- **Подтверждение email** и восстановление пароля
- **Создание объявлений** с фото, характеристиками телефона
- **Редактирование и управление** своими объявлениями
- **Поиск объявлений** с фильтрами:
  - По региону/городу
  - По бренду/модели
  - По цене (диапазон)
  - По состоянию (новый, б/у, восстановленный)
  - По характеристикам (RAM, память)
  - Возможность обмена (trade-in)
  - Сортировка (по дате, цене, просмотрам, избранным)
- **Избранное** — сохранение понравившихся объявлений
- **Чат** — переписка с продавцами
- **Профиль продавца** — просмотр всех объявлений пользователя
- **Мультиязычность** — русский и узбекский языки

### Статусы объявлений
- `draft` — черновик
- `moderation` — на модерации
- `active` — активное
- `sold` — продано
- `archived` — в архиве
- `rejected` — отклонено

### Для администраторов
- **Модерация объявлений** — одобрение/отклонение
- **Управление пользователями** — просмотр, редактирование
- **Управление персоналом** — назначение ролей (admin, moderator)
- **Справочники** — бренды и модели телефонов
- **Заявки** — обработка заявок на добавление новых моделей
- **Парсер** — импорт данных
- **Кэш** — управление кэшированием
- **Логи** — мониторинг действий в системе

### Роли пользователей
- `user` — обычный пользователь
- `moderator` — модератор
- `admin` — администратор

---

## Layouts (Макеты)

- **default** — основной макет с хедером и футером
- **admin** — макет админ-панели с сайдбаром
- **empty** — пустой макет (для авторизации)

---

## Composables

| Файл | Описание |
|------|----------|
| `useAds.ts` | Работа с объявлениями |
| `useFavorite.ts` | Избранное |
| `useChat.ts` | Чат и переписки |
| `useCache.ts` | Кэширование |
| `useNotifications.ts` | Уведомления |
| `useAdminAds.ts` | Админ: объявления |
| `useAdminUsers.ts` | Админ: пользователи |
| `useAdminStaff.ts` | Админ: персонал |
| `useAdminBrands.ts` | Админ: бренды |
| `useAdminModels.ts` | Админ: модели |
| `useAdminApplications.ts` | Админ: заявки |
| `useAdminParser.ts` | Админ: парсер |
| `useLogs.ts` | Админ: логи |

---

## Stores (Pinia)

- **root** — пользователь, авторизация, профиль
- **places** — регионы и города

---

## API

API клиент создан через плагин `$api` на базе `$fetch` с автоматической авторизацией через Bearer token (cookie).

---

## Установка и запуск

### Установка зависимостей

```bash
yarn install
```

### Запуск dev-сервера

```bash
yarn dev
```

Приложение будет доступно на `http://localhost:3000`

### Сборка для production

```bash
yarn build
```

### Превью production сборки

```bash
yarn preview
```

---

## Переменные окружения

```env
NUXT_PUBLIC_API_URL=https://api.example.com
```

---

## Документация

- [Nuxt Documentation](https://nuxt.com/docs)
- [Element Plus](https://element-plus.org/)
- [Pinia](https://pinia.vuejs.org/)
